/* === CHECKBOX & RADIO */
/* stylelint-disable no-descending-specificity */

/* BASE SETUP */
.form-element-check,
.form-check {
  @apply relative;

  input[type="checkbox"],
  input[type="radio"] {
    @apply absolute z-[-1] left-0 w-auto h-auto;
    @apply text-[0] leading-[0] opacity-[0];

    &:checked {
      + label > span::after,
      + span::after {
        @apply block;
      }
    }

    /* State: Focus */
    &:focus,
    &.pseudo-focus {
      @apply outline-none;

      + label > span::before,
      + span::before {
        @apply border-2 border-[var(--color-primary-500)] ring-2 ring-[var(--color-primary-500)]/30;
      }
    }

    /* State: Hover */
    &:hover,
    &.pseudo-hover {
      + label > span::before,
      + span::before {
        @apply border-2 border-[var(--color-primary-500)];
      }
    }

    /* State: Error */
    &.error {
      + label > span::before,
      + span::before {
        @apply border-2 border-red-600;
      }
    }

    /* State: Disabled */
    &:disabled,
    &.disabled {
      + label > span,
      + span {
        cursor: not-allowed;

        @apply opacity-60;

        &::before {
          @apply border-2 border-stone-400 bg-stone-100;
        }
      }
    }
  }

  label > span,
  span {
    @apply relative inline-block pl-8;
    @apply cursor-pointer;

    &::before,
    &::after {
      @apply flex-shrink-0;

      content: "";
    }

    &::before {
      @apply absolute top-0 left-0;
      @apply block w-6 h-6 mr-3;
      @apply bg-white border-2 border-stone-400;
      @apply transition-all duration-200;
    }

    &::after {
      @apply hidden;
      @apply bg-center bg-no-repeat;
    }

    span {
      @apply p-0;
    }
  }
}

/* === Checkbox */
.form-element-check input[type="checkbox"],
.form-check input[type="checkbox"] {
  + label > span,
  + span {
    &::before {
      @apply rounded-md;
    }

    &::after {
      @apply absolute top-[3px] left-[3px] w-5 h-5;
      @apply text-center;
      @apply text-white;

      content: "";
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='white' stroke-width='3'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M5 13l4 4L19 7'%3E%3C/path%3E%3C/svg%3E");
      background-position: center;
      background-repeat: no-repeat;
      background-size: 18px;
    }
  }

  &:checked {
    + label > span::before,
    + span::before {
      @apply bg-[var(--color-primary-600)] border-[var(--color-primary-600)];
    }
  }
}

/* === Radio */
.form-check input[type="radio"] {
  + label > span,
  + span {
    &::before {
      @apply rounded-full;
    }

    &::after {
      @apply absolute top-[3px] left-[3px] w-[18px] h-[18px] rounded-full bg-white scale-[0.6];
    }
  }

  &:checked {
    + label > span::before,
    + span::before {
      @apply bg-[var(--color-primary-600)] border-[var(--color-primary-600)];
    }
  }
}

/* === Fix for Label with link */
.form-check-label {
  > span {
    @apply gap-0.5 flex-wrap;
  }

  span::before,
  span::after {
    @apply hidden;
  }
}
/* stylelint-enable no-descending-specificity */
