/* Cookie Banner Styles */
#cookie-banner {
  /* Basic styling */
  --banner-transition-duration: 300ms;
  --modal-transition-duration: 250ms;

  /* Banner Animation */
  transition: transform var(--banner-transition-duration) ease-in-out,
              opacity var(--banner-transition-duration) ease-in-out; /* Keep custom transition */
  @apply shadow-[0_-4px_6px_-1px_rgb(0_0_0_/_10%),_0_-2px_4px_-1px_rgb(0_0_0_/_6%)];
}

/* Additional animation for cookie banner */
.cookie-banner-visible {
  @apply !translate-y-0 !opacity-100;
}

/* Modal background animation */
#cookie-settings-modal .fixed[aria-hidden="true"] {
  transition: opacity var(--modal-transition-duration) ease; /* Keep custom transition */
}

/* Modal animation */
#cookie-settings-modal .inline-block {
  transition: opacity var(--modal-transition-duration) ease,
              transform var(--modal-transition-duration) ease; /* Keep custom transition */
}

/* Modal open animation */
#cookie-settings-modal:not(.hidden) .inline-block {
  animation: modal-open var(--modal-transition-duration) ease forwards; /* Keep custom animation */
}

/* Floating Settings Button */
#floating-cookie-settings {
  @apply fixed left-4 bottom-4 z-40;
  transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease; /* Keep custom transition */
  will-change: transform, opacity; /* Keep custom will-change */
}

#floating-cookie-settings.invisible {
  @apply invisible;
}

#floating-cookie-settings button {
  @apply flex items-center justify-center p-3 text-sm font-medium text-white rounded-full shadow-md;
  background-color: var(--primary-600, #4F46E5); /* Use variable with fallback */
  /* box-shadow is Tailwind's shadow-md. Original: 0 4px 6px -1px rgb(0 0 0 / 10%), 0 2px 4px -1px rgb(0 0 0 / 6%) */
  transition: transform 0.2s ease, background-color 0.2s ease; /* Keep custom transition */
}

#floating-cookie-settings button:hover {
  background-color: var(--primary-700, #4338CA); /* Use variable with fallback */
  @apply hover:scale-105;
}

#floating-cookie-settings button:focus-visible {
  @apply focus-visible:outline-2 focus-visible:outline-[var(--primary-600,#4F46E5)] focus-visible:outline-offset-2;
}

/* Verbesserter Hover-Effekt f√ºr den Floating Button */
#floating-cookie-settings button svg {
  transition: transform 0.2s ease; /* Keep custom transition for SVG */
}

#floating-cookie-settings button:hover svg {
  @apply hover:rotate-15;
}

/* High contrast mode improvements */
@media (forced-colors: active) {
  #floating-cookie-settings button {
    @apply border-2 border-[ButtonText];
  }

  #floating-cookie-settings button:focus-visible {
    @apply outline-2 outline-[ButtonText];
  }
}

/* Tastatur-Fokus-Stile */
#cookie-banner button:focus-visible,
#cookie-settings-modal button:focus-visible,
#floating-cookie-settings:focus-visible { /* This selector for #floating-cookie-settings might be too broad if it's not interactive itself */
  @apply outline-2 outline-[var(--primary-600,#4F46E5)] outline-offset-2;
}

/* Mobile adjustments */
@media (width <= 640px) {
  #cookie-banner {
    @apply max-h-[80vh] overflow-y-auto;
  }

  #cookie-settings-modal .inline-block {
    @apply max-w-[calc(100vw-2rem)];
  }

  #floating-cookie-settings {
    @apply bottom-3 left-3;
  }
}

/* iOS Safari Fix */
@supports (-webkit-touch-callout: none) {
  #cookie-banner {
    @apply pb-[env(safe-area-inset-bottom,0)];
  }

  #floating-cookie-settings {
    @apply bottom-[calc(env(safe-area-inset-bottom,0)+1rem)];
  }
}

/* Animation for the modal */
@keyframes modal-open {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(10px);
  }

  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}
