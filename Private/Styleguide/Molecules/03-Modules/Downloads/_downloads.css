@layer components {
  /* ==========================
   * === DOWNLOADS TEASER INLINE SM
   * ========================== */

  /* Main Downloads Item Container  */
  .downloads-teaser-inline-sm {
    @apply bg-white rounded-xl flex flex-row justify-stretch items-stretch gap-2 py-4 px-6 w-full transition-all duration-300 ease-in-out shadow-[0_1px_3px_0_rgb(0_0_0_/_10%),_0_1px_2px_0_rgb(0_0_0_/_6%)];
  }

  .downloads-teaser-inline-sm:hover {
    @apply transform -translate-y-0.5 hover:shadow-[0_8px_16px_-4px_rgb(0_0_0_/_10%),_0_4px_8px_-2px_rgb(0_0_0_/_5%)];
  }

  /* Downloads Content Container  */
  .downloads-content {
    @apply flex flex-row items-center gap-4 flex-1; /* 16px -> gap-4 */
  }

  /* Downloads Text Group  */
  .downloads-text-group {
    @apply flex flex-col gap-0.5 flex-1; /* 2px -> gap-0.5 */
  }

  /* Downloads Title Typography  */
  .downloads-title {
    @apply font-[var(--font-family-display)] font-normal text-base leading-normal text-[var(--color-netinera-dark)] w-full; /* 16px, 1.5em */
  }

  /* Downloads Meta Typography  */
  .downloads-meta {
    @apply font-[var(--font-family-sans)] font-normal text-sm leading-[1.714em] text-[var(--color-netinera-dark)] w-full opacity-70; /* 14px */
  }

  /* Downloads Button  */
  .downloads-button {
    @apply bg-[var(--color-netinera-secondary)] rounded-xl w-10 h-10 flex items-center justify-center transition-all duration-300 ease-in-out cursor-pointer border-none flex-shrink-0;
  }

  .downloads-button:hover {
    @apply hover:bg-[#C2041F] hover:scale-105;
  }

  .downloads-button:active {
    @apply active:bg-[#A10318] active:scale-[0.98];
  }

  /* Downloads Icon  */
  .downloads-icon {
    @apply text-white w-5 h-5;
  }

  .download-icon-svg { /* These are direct SVG attributes or need to be applied to SVG via JS/HTML */
    fill: none;
    stroke: currentColor; /* Use currentColor to inherit from .downloads-icon text-white */
    stroke-width: 1.25px;
    stroke-linecap: round;
    stroke-linejoin: round;
  }

  /* ==========================
   * === DOWNLOADS LAYOUTS
   * ========================== */

  /* Downloads List Layout */
  .downloads-list {
    @apply flex flex-col gap-3 w-full; /* 12px -> gap-3 */
  }

  /* Downloads Grid Layout */
  .downloads-grid {
    @apply grid grid-cols-[repeat(auto-fit,minmax(320px,1fr))] gap-4 w-full; /* 16px -> gap-4 */
  }

  /* ==========================
   * === DOWNLOADS STATES
   * ========================== */

  /* Downloading State */
  .downloads-downloading {
    @apply bg-gray-300 pointer-events-none cursor-not-allowed; /* #B8B8B8 is approx gray-300 */
  }

  .downloads-downloading .downloads-icon {
    animation: downloads-spin 1s linear infinite; /* Keep custom animation */
  }

  @keyframes downloads-spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
  }

  /* Downloaded State */
  .downloads-downloaded {
    @apply bg-green-500; /* #10B981 is approx green-500 */
  }

  .downloads-downloaded:hover {
    @apply hover:bg-green-600; /* #059669 is approx green-600 */
  }

  /* ==========================
   * === DOWNLOADS ANIMATIONS
   * ========================== */

  /* Fade In Animation */
  .downloads-section-fade-in {
    animation: downloads-fade-in-up 0.6s ease-out; /* Keep custom animation */
  }

  @keyframes downloads-fade-in-up { /* Keep custom keyframes */
    from {
      opacity: 0;
      transform: translateY(30px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Card Slide In Animation */
  .downloads-card-animate {
    animation: downloads-slide-in 0.8s ease-out forwards; /* Keep custom animation */
  }

  @keyframes downloads-slide-in { /* Keep custom keyframes */
    from {
      opacity: 0;
      transform: translateX(-40px) scale(0.95);
    }

    to {
      opacity: 1;
      transform: translateX(0) scale(1);
    }
  }

  /* Interactive Card Enhancement */
  .downloads-card-interactive {
    @apply transition-all duration-300 ease-in-out;
  }

  /* Focus States for Accessibility */
  .downloads-button:focus { /* Should be focus-visible for better UX */
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  .downloads-card-interactive:hover {
    @apply transform -translate-y-0.5 shadow-[0_8px_16px_-4px_rgb(0_0_0_/_10%),_0_4px_8px_-2px_rgb(0_0_0_/_5%)];
  }

  .downloads-card-interactive:hover .downloads-button {
    @apply transform scale-105 bg-[#C2041F]; /* Ensure hover styles cascade or are specific enough */
  }

  /* ==========================
   * === RESPONSIVE DESIGN
   * ========================== */

  /* Mobile Optimization */
  @media (width <= 767px) { /* max-netinera-mobile */
    .downloads-teaser-inline-sm {
      @apply py-3 px-4 gap-1.5; /* 12px, 16px, 6px */
    }

    .downloads-content {
      @apply gap-3; /* 12px */
    }

    .downloads-button {
      @apply w-9 h-9; /* 36px */
    }

    .downloads-icon {
      @apply w-[18px] h-[18px];
    }

    .downloads-grid {
      @apply grid-cols-1 gap-3; /* 12px */
    }
  }

  /* Small Mobile */
  @media (width <= 479px) { /* max-xs */
    .downloads-teaser-inline-sm {
      @apply py-[10px] px-3 gap-1; /* 10px, 12px, 4px */
    }

    .downloads-content {
      @apply gap-[10px];
    }

    .downloads-title {
      @apply text-sm leading-[1.4];
    }

    .downloads-meta {
      @apply text-xs leading-[1.5];
    }

    .downloads-button {
      @apply w-8 h-8; /* 32px */
    }

    .downloads-icon {
      @apply w-4 h-4; /* 16px */
    }
  }

  /* ==========================
   * === ACCESSIBILITY
   * ========================== */

  .downloads-teaser-inline-sm:focus-within {
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  /* High Contrast Mode */
  @media (prefers-contrast: high) {
    .downloads-teaser-inline-sm {
      @apply border-2 border-[var(--color-netinera-dark)];
    }

    .downloads-title,
    .downloads-meta {
      @apply font-semibold;
    }

    .downloads-button {
      @apply border-2 border-white; /* Assuming white is ButtonText equivalent here */
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .downloads-teaser-inline-sm,
    .downloads-button,
    .downloads-card-interactive {
      @apply motion-reduce:transition-none motion-reduce:transform-none !important;
    }

    .downloads-section-fade-in,
    .downloads-card-animate {
      @apply motion-reduce:animate-none motion-reduce:opacity-100;
    }

    .downloads-downloading .downloads-icon {
      @apply motion-reduce:animate-none;
    }
  }

  /* ==========================
   * === PRINT STYLES
   * ========================== */

  @media print {
    .downloads-teaser-inline-sm {
      @apply print:bg-white !important print:border print:border-gray-300 print:rounded-none print:p-3 !important;
      break-inside: avoid;
      margin-bottom: 8px; /* Keep custom mb for print */
    }

    .downloads-button {
      @apply print:hidden;
    }

    .downloads-title,
    .downloads-meta {
      @apply print:text-black !important;
    }

    .downloads-list,
    .downloads-grid {
      @apply print:block;
    }

    .downloads-grid .downloads-teaser-inline-sm {
      margin-bottom: 12px; /* Keep custom mb for print */
    }
  }

  /* ==========================
   * === LOADING STATES
   * ========================== */

  .downloads-loading {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); /* Keep custom gradient */
    @apply bg-cover;
    animation: downloads-loading 1.5s infinite; /* Keep custom animation */
  }

  @keyframes downloads-loading { /* Keep custom keyframes */
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  .downloads-loading .downloads-title,
  .downloads-loading .downloads-meta {
    background: linear-gradient(90deg, #e0e0e0 25%, #d0d0d0 50%, #e0e0e0 75%); /* Keep custom gradient */
    @apply bg-cover text-transparent rounded motion-safe:animate-pulse; /* Using pulse for text placeholders, or keep custom anim */
    /* animation: downloads-loading 1.5s infinite; */ /* Keep if custom anim preferred over pulse */
  }

}
