@layer components {
  /* ==========================
   * === FEATURE CARD RESPONSIVE
   * ========================== */

  /* Responsive Feature Card Container */
  .feature-card-responsive {
    @apply flex flex-col w-full max-w-[328px] overflow-hidden transition-all duration-300 ease-in-out shadow-[0_4px_12px_rgb(30_41_57_/_8%)] rounded-tl-[36px];
  }

  .feature-card-responsive:hover {
    @apply transform -translate-y-1 shadow-[0_15px_30px_-5px_rgb(30_41_57_/_10%),_0_6px_12px_-2px_rgb(30_41_57_/_5%)];
  }

  /* Responsive Feature Card Image */
  .feature-card-responsive-image {
    @apply w-full h-[200px] bg-cover bg-center bg-no-repeat rounded-tl-[36px] relative overflow-hidden;
  }

  /* Responsive Feature Card Overlay */
  .feature-card-responsive-overlay {
    background: linear-gradient(180deg, rgb(0 104 94 / 0%) 0%, rgb(0 61 57 / 100%) 100%); /* Using Netinera Primary and Primary-900 for gradient */
    @apply absolute inset-0 p-5 flex flex-col justify-end gap-3; /* 20px padding, 12px gap */
  }

  /* Responsive Feature Card Icon */
  .feature-card-responsive-icon {
    @apply flex justify-center items-center w-12 h-12 bg-white/15 rounded-xl flex-shrink-0; /* 48px, 12px radius */
  }

  .feature-card-responsive-icon svg {
    width: 24px; /* Direct style */
    height: 24px;
    color: white;
    stroke: white;
    stroke-width: 2px;
    fill: none;
  }

  /* Responsive Feature Card Content */
  .feature-card-responsive-content {
    @apply flex flex-col gap-1 flex-1; /* 4px -> gap-1 */
  }

  /* Responsive Feature Card Overline */
  .feature-card-responsive-overline {
    @apply font-[var(--font-family-sans)] font-semibold text-xs leading-[1.33] uppercase tracking-[0.1em] text-white opacity-90;
  }

  /* Responsive Feature Card Headline */
  .feature-card-responsive-headline {
    @apply font-[var(--font-family-display)] font-normal text-[20px] leading-[1.2] uppercase text-white m-0;
  }

  /* ==========================
   * === FEATURE CARD XL (Desktop)
   * ========================== */

  /* Desktop XL Feature Card Container */
  .feature-card-xl {
    @apply flex flex-col w-[368px] overflow-hidden transition-all duration-300 ease-in-out shadow-[0_4px_12px_rgb(30_41_57_/_8%)] rounded-tl-[64px];
  }

  .feature-card-xl:hover {
    @apply transform -translate-y-1 shadow-[0_15px_30px_-5px_rgb(30_41_57_/_10%),_0_6px_12px_-2px_rgb(30_41_57_/_5%)];
  }

  /* Desktop XL Feature Card Image */
  .feature-card-xl-image {
    @apply w-full h-[240px] bg-cover bg-center bg-no-repeat rounded-tl-[64px] relative overflow-hidden;
  }

  /* Desktop XL Feature Card Overlay */
  .feature-card-xl-overlay {
    background: linear-gradient(180deg, rgb(0 104 94 / 0%) 0%, rgb(0 61 57 / 100%) 100%); /* Using Netinera Primary and Primary-900 for gradient */
    @apply absolute inset-0 p-6 flex flex-col justify-end gap-4; /* 24px padding, 16px gap */
  }

  /* Desktop XL Feature Card Icon */
  .feature-card-xl-icon {
    @apply flex justify-center items-center w-[52px] h-[52px] bg-white/15 rounded-[14px] flex-shrink-0;
  }

  .feature-card-xl-icon svg {
    width: 26px; /* Direct style */
    height: 26px;
    color: white;
    stroke: white;
    stroke-width: 2px;
    fill: none;
  }

  /* Desktop XL Feature Card Content */
  .feature-card-xl-content {
    @apply flex flex-col gap-1.5 flex-1; /* 6px -> gap-1.5 */
  }

  /* Desktop XL Feature Card Overline */
  .feature-card-xl-overline {
    @apply font-[var(--font-family-sans)] font-semibold text-sm leading-[1.29] uppercase tracking-[0.1em] text-white opacity-90; /* 14px -> text-sm */
  }

  /* Desktop XL Feature Card Headline */
  .feature-card-xl-headline {
    @apply font-[var(--font-family-display)] font-normal text-[24px] leading-[1.17] uppercase text-white m-0;
  }

  /* ==========================
   * === FEATURE CARD SM (Mobile)
   * ========================== */

  /* Mobile SM Feature Card Container */
  .feature-card-sm {
    @apply flex flex-col w-[328px] overflow-hidden transition-all duration-300 ease-in-out shadow-[0_2px_8px_rgb(30_41_57_/_6%)] rounded-tl-[36px];
  }

  .feature-card-sm:hover {
    @apply transform -translate-y-0.5 shadow-[0_8px_16px_-4px_rgb(30_41_57_/_8%),_0_4px_8px_-2px_rgb(30_41_57_/_4%)];
  }

  /* Mobile SM Feature Card Image */
  .feature-card-sm-image {
    @apply w-full h-[200px] bg-cover bg-center bg-no-repeat rounded-tl-[36px] relative overflow-hidden;
  }

  /* Mobile SM Feature Card Overlay */
  .feature-card-sm-overlay {
    background: linear-gradient(180deg, rgb(0 104 94 / 0%) 0%, rgb(0 61 57 / 100%) 100%); /* Using Netinera Primary and Primary-900 for gradient */
    @apply absolute inset-0 p-5 flex flex-col justify-end gap-3; /* 20px padding, 12px gap */
  }

  /* Mobile SM Feature Card Icon */
  .feature-card-sm-icon {
    @apply flex justify-center items-center w-[44px] h-[44px] bg-white/15 rounded-[10px] flex-shrink-0;
  }

  .feature-card-sm-icon svg {
    width: 20px; /* Direct style */
    height: 20px;
    color: white;
    stroke: white;
    stroke-width: 2px;
    fill: none;
  }

  /* Mobile SM Feature Card Content */
  .feature-card-sm-content {
    @apply flex flex-col gap-1 flex-1; /* 4px -> gap-1 */
  }

  /* Mobile SM Feature Card Overline */
  .feature-card-sm-overline {
    @apply font-[var(--font-family-sans)] font-semibold text-xs leading-[1.33] uppercase tracking-[0.1em] text-white opacity-90;
  }

  /* Mobile SM Feature Card Headline */
  .feature-card-sm-headline {
    @apply font-[var(--font-family-display)] font-normal text-lg leading-[1.22] uppercase text-white m-0; /* 18px -> text-lg */
  }

  /* ==========================
   * === FEATURE CARD GRIDS
   * ========================== */

  /* Feature Card Grid Responsive */
  .feature-card-grid-responsive {
    @apply grid grid-cols-[repeat(auto-fit,minmax(300px,368px))] gap-6 w-full justify-center justify-items-center;
  }

  /* Feature Card Grid Fixed */
  .feature-card-grid-fixed {
    @apply grid grid-cols-3 gap-6 w-full justify-items-center;
  }

  /* Feature Card Grid Auto */
  .feature-card-grid-auto {
    @apply grid grid-cols-[repeat(auto-fit,minmax(280px,1fr))] gap-5 w-full justify-items-center; /* 20px -> gap-5 */
  }

  /* ==========================
   * === COLOR VARIANTS
   * ========================== */

  /* Primary Variant (Default Teal) */
  .feature-card-variant-primary .feature-card-responsive-overlay,
  .feature-card-variant-primary .feature-card-xl-overlay,
  .feature-card-variant-primary .feature-card-sm-overlay {
    background: linear-gradient(180deg, rgb(0 104 94 / 0%) 0%, rgb(0 61 57 / 100%) 100%); /* Netinera Primary (#00685E) / Primary-900 (#003d37) */
  }

  /* Secondary Variant (Red) */
  .feature-card-variant-secondary .feature-card-responsive-overlay,
  .feature-card-variant-secondary .feature-card-xl-overlay,
  .feature-card-variant-secondary .feature-card-sm-overlay {
    background: linear-gradient(180deg, rgb(221 5 43 / 0%) 0%, rgb(185 28 28 / 100%) 100%); /* Netinera Secondary (#DD052B) / darker red */
  }

  /* Dark Variant */
  .feature-card-variant-dark .feature-card-responsive-overlay,
  .feature-card-variant-dark .feature-card-xl-overlay,
  .feature-card-variant-dark .feature-card-sm-overlay {
    background: linear-gradient(180deg, rgb(30 41 57 / 0%) 0%, rgb(17 24 39 / 100%) 100%); /* Netinera Dark / darker */
  }

  /* ==========================
   * === RESPONSIVE DESIGN
   * ========================== */

  /* Desktop breakpoint */
  @media (width >= 1024px) { /* netinera-desktop */
    .feature-card-responsive {
      @apply max-w-[368px] rounded-tl-[64px];
    }

    .feature-card-responsive-image {
      @apply h-[240px] rounded-tl-[64px];
    }

    .feature-card-responsive-overlay {
      @apply p-6 gap-4; /* 24px, 16px */
    }

    .feature-card-responsive-icon {
      @apply w-[52px] h-[52px] rounded-[14px];
    }

    .feature-card-responsive-icon svg {
      width: 26px; /* Direct style */
      height: 26px;
    }

    .feature-card-responsive-content {
      @apply gap-1.5; /* 6px */
    }

    .feature-card-responsive-overline {
      @apply text-sm leading-[1.29]; /* 14px */
    }

    .feature-card-responsive-headline {
      @apply text-[24px] leading-[1.17];
    }
  }

  /* Tablet adaptation */
  @media (1023px >= width >= 768px) { /* Styles for screens between netinera-mobile and netinera-desktop */
    .feature-card-grid-responsive,
    .feature-card-grid-fixed {
      @apply grid-cols-2 gap-5; /* 20px */
    }

    .feature-card-xl { /* Overrides for XL card on tablet */
      @apply w-full max-w-[340px] rounded-tl-[48px];
    }

    .feature-card-xl-image {
      @apply h-[220px] rounded-tl-[48px];
    }
  }

  /* Mobile optimization */
  @media (width <= 767px) { /* max-netinera-mobile */
    .feature-card-grid-responsive,
    .feature-card-grid-fixed,
    .feature-card-grid-auto {
      @apply grid-cols-1 gap-4; /* 16px */
    }

    .feature-card-responsive,
    .feature-card-xl { /* XL card also gets mobile overrides */
      @apply w-full max-w-full rounded-tl-[32px];
    }

    .feature-card-responsive-image,
    .feature-card-xl-image {
      @apply h-[180px] rounded-tl-[32px];
    }

    .feature-card-responsive-overlay,
    .feature-card-xl-overlay {
      @apply p-4 gap-[10px]; /* 16px, 10px */
    }

    .feature-card-responsive-icon,
    .feature-card-xl-icon {
      @apply w-10 h-10 rounded-lg; /* 40px, 8px */
    }

    .feature-card-responsive-icon svg,
    .feature-card-xl-icon svg {
      width: 20px; /* Direct style */
      height: 20px;
    }

    .feature-card-responsive-overline,
    .feature-card-xl-overline {
      @apply text-[10px] leading-[1.2];
    }

    .feature-card-responsive-headline,
    .feature-card-xl-headline {
      @apply text-base leading-[1.25]; /* 16px */
    }
  }

  /* Small mobile optimization */
  @media (width <= 479px) { /* max-xs */
    .feature-card-responsive,
    .feature-card-xl,
    .feature-card-sm { /* All variants get these overrides */
      @apply rounded-tl-[24px];
    }

    .feature-card-responsive-image,
    .feature-card-xl-image,
    .feature-card-sm-image {
      @apply h-[160px] rounded-tl-[24px];
    }

    .feature-card-responsive-overlay,
    .feature-card-xl-overlay,
    .feature-card-sm-overlay {
      @apply p-3 gap-2; /* 12px, 8px */
      background: rgb(0 0 0 / 0.9) !important; /* Important to override other gradients */
    }

    .feature-card-responsive-icon,
    .feature-card-xl-icon,
    .feature-card-sm-icon {
      @apply w-9 h-9 rounded-[6px]; /* 36px */
    }

    .feature-card-responsive-icon svg,
    .feature-card-xl-icon svg,
    .feature-card-sm-icon svg {
      width: 18px; /* Direct style */
      height: 18px;
    }

    .feature-card-responsive-headline,
    .feature-card-xl-headline,
    .feature-card-sm-headline {
      @apply text-sm leading-[1.3]; /* 14px */
    }
  }

  /* ==========================
   * === ACCESSIBILITY
   * ========================== */

  /* Focus States */
  .feature-card-responsive:focus-within,
  .feature-card-xl:focus-within,
  .feature-card-sm:focus-within {
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2; /* DD052B */
  }

  /* High Contrast Mode */
  @media (prefers-contrast: high) {
    .feature-card-responsive,
    .feature-card-xl,
    .feature-card-sm {
      @apply border-2 border-[var(--color-netinera-dark)];
    }

    .feature-card-responsive-headline,
    .feature-card-xl-headline,
    .feature-card-sm-headline {
      @apply font-semibold;
    }

    .feature-card-responsive-overlay,
    .feature-card-xl-overlay,
    .feature-card-sm-overlay {
      background: rgb(0 0 0 / 0.9) !important; /* Important to override other gradients */
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .feature-card-responsive,
    .feature-card-xl,
    .feature-card-sm {
      @apply motion-reduce:transition-none motion-reduce:transform-none !important;
    }
  }

  /* ==========================
   * === PRINT STYLES
   * ========================== */

  @media print {
    .feature-card-responsive,
    .feature-card-xl,
    .feature-card-sm {
      @apply print:bg-white !important print:text-black !important print:border print:border-gray-300 print:rounded-none print:shadow-none !important;
      break-inside: avoid;
      margin-bottom: 20px; /* Keep mb as it's specific for print */
    }

    .feature-card-responsive-image,
    .feature-card-xl-image,
    .feature-card-sm-image {
      @apply print:h-[150px] !important print:rounded-none print:border print:border-gray-300;
    }

    .feature-card-responsive-overlay,
    .feature-card-xl-overlay,
    .feature-card-sm-overlay {
      background: rgb(0 0 0 / 0.7) !important; /* Important to override other gradients */
    }

    .feature-card-responsive-overline,
    .feature-card-xl-overline,
    .feature-card-sm-overline,
    .feature-card-responsive-headline,
    .feature-card-xl-headline,
    .feature-card-sm-headline {
      @apply print:text-white !important;
    }

    .feature-card-grid-responsive,
    .feature-card-grid-fixed,
    .feature-card-grid-auto {
      @apply print:block;
    }

    .feature-card-grid-responsive > *,
    .feature-card-grid-fixed > *,
    .feature-card-grid-auto > * {
      margin-bottom: 20px; /* Keep mb as it's specific for print */
    }
  }

}
