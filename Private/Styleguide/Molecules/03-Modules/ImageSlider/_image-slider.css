@layer components {
  /* ==========================
   * === IMAGE SLIDER MAIN
   * ========================== */

  /* Main Image Slider Container */
  .netinera-image-slider {
    @apply flex flex-col items-center gap-4 w-full max-w-[328px] bg-transparent transition-all duration-300 ease-in-out; /* 16px -> gap-4 */
  }

  /* Image Slider Content Container */
  .netinera-image-slider-content {
    @apply relative w-full rounded-xl overflow-hidden shadow-[0_4px_12px_rgb(30_41_57_/_10%)] transition-shadow duration-300 ease-in-out; /* 12px -> rounded-xl */
  }

  .netinera-image-slider-content:hover {
    @apply hover:shadow-[0_8px_24px_rgb(30_41_57_/_15%)];
  }

  /* ==========================
   * === IMAGE DISPLAY
   * ========================== */

  /* Image Background Container */
  .netinera-image-slider-image {
    @apply w-full h-[185px] bg-cover bg-center bg-no-repeat transition-transform duration-500 ease-in-out relative;
  }

  .netinera-image-slider:hover .netinera-image-slider-image {
    @apply hover:scale-105; /* scale(1.02) -> scale-105 is closest standard, or use scale-[1.02] */
  }

  /* Image Overlay for better navigation visibility */
  .netinera-image-slider-image::before {
    content: '';
    background: linear-gradient(
      to right,
      rgb(0 0 0 / 0.2) 0%,
      transparent 20%,
      transparent 80%,
      rgb(0 0 0 / 0.2) 100%
    ); /* Keep custom gradient */
    @apply absolute inset-0 opacity-0 transition-opacity duration-300 ease-in-out;
  }

  .netinera-image-slider:hover .netinera-image-slider-image::before {
    @apply opacity-100;
  }

  /* ==========================
   * === NAVIGATION
   * ========================== */

  /* Navigation Container */
  .netinera-image-slider-navigation {
    @apply absolute inset-0 flex items-center justify-between px-4 z-10; /* 16px -> px-4 */
  }

  /* Navigation Buttons */
  .netinera-image-slider-nav-button {
    @apply flex items-center justify-center w-10 h-10 bg-white/90 border-none rounded-full cursor-pointer transition-all duration-300 ease-in-out shadow-[0_2px_8px_rgb(30_41_57_/_15%)] opacity-0 scale-90; /* scale(0.8) -> scale-90 is closest standard */
  }

  /* All Focus States - must come before any hover selectors */
  .netinera-image-slider-nav-button:focus { /* Should be focus-visible */
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  .netinera-image-slider-dot:focus { /* Should be focus-visible */
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2 scale-[1.3];
  }

  /* Keyboard Navigation Support */
  .netinera-image-slider[tabindex]:focus { /* Should be focus-visible */
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-4 rounded-xl; /* 12px -> rounded-xl */
  }

  /* Navigation Button States - must come after focus states */
  .netinera-image-slider-nav-button:hover {
    @apply bg-white scale-110 shadow-[0_4px_12px_rgb(30_41_57_/_20%)];
  }

  .netinera-image-slider-nav-button:active {
    @apply scale-95;
  }

  .netinera-image-slider:hover .netinera-image-slider-nav-button {
    @apply opacity-100 scale-100;
  }

  /* Navigation Button Icons */
  .netinera-image-slider-nav-button-icon {
    @apply flex items-center justify-center text-[var(--color-netinera-dark)] transition-colors duration-300 ease-in-out;
  }

  .netinera-image-slider-nav-button:hover .netinera-image-slider-nav-button-icon {
    @apply text-[var(--color-netinera-secondary)];
  }

  /* ==========================
   * === PAGINATION
   * ========================== */

  /* Pagination Container */
  .netinera-image-slider-pagination {
    @apply flex items-center justify-center gap-2 p-0 m-0; /* 8px -> gap-2 */
  }

  /* Pagination Dots */
  .netinera-image-slider-dot {
    @apply w-2 h-2 rounded-full border-none bg-gray-300 cursor-pointer transition-all duration-300 ease-in-out p-0 m-0; /* 8px -> w-2, h-2. #C4C4C4 -> bg-gray-300 */
  }

  .netinera-image-slider-dot:hover {
    @apply bg-gray-500 scale-125; /* #8B8B8B -> bg-gray-500 */
  }

  .netinera-image-slider-dot.active {
    @apply bg-[var(--color-netinera-secondary)] w-[10px] h-[10px]; /* Mobile first active size */
  }

  .netinera-image-slider-dot.active:hover {
    @apply bg-[#B8041E]; /* Darker secondary */
  }

  /* ==========================
   * === CAPTION
   * ========================== */

  /* Caption Text */
  .netinera-image-slider-caption {
    @apply font-[var(--font-family-sans)] font-normal text-sm leading-[1.5em] text-[var(--color-netinera-dark)] text-center w-full m-0 px-4; /* 14px, 16px padding */
  }

  /* ==========================
   * === RESPONSIVE DESIGN
   * ========================== */

  /* Tablet breakpoint (≥ 768px) */
  @media (width >= 768px) { /* netinera-tablet */
    .netinera-image-slider {
      @apply max-w-[600px] gap-5; /* 20px */
    }

    .netinera-image-slider-content {
      @apply rounded-2xl; /* 16px */
    }

    .netinera-image-slider-image {
      @apply h-[338px];
    }

    .netinera-image-slider-navigation {
      @apply px-6; /* 24px */
    }

    .netinera-image-slider-nav-button {
      @apply w-12 h-12; /* 48px */
    }

    .netinera-image-slider-dot {
      @apply w-[10px] h-[10px];
    }

    .netinera-image-slider-dot.active {
      @apply w-3 h-3; /* 12px */
    }

    .netinera-image-slider-pagination {
      @apply gap-[10px];
    }

    .netinera-image-slider-caption {
      @apply text-base leading-[1.5em]; /* 16px */
    }
  }

  /* Desktop breakpoint (≥ 1024px) */
  @media (width >= 1024px) { /* netinera-desktop */
    .netinera-image-slider {
      @apply max-w-[768px] gap-6; /* 24px */
    }

    .netinera-image-slider-content {
      @apply rounded-[20px];
    }

    .netinera-image-slider-image {
      @apply h-[434px];
    }

    .netinera-image-slider-navigation {
      @apply px-8; /* 32px */
    }

    .netinera-image-slider-nav-button {
      @apply w-14 h-14; /* 56px */
    }

    .netinera-image-slider-dot {
      @apply w-3 h-3; /* 12px */
    }

    .netinera-image-slider-dot.active {
      @apply w-4 h-4; /* 16px */
    }

    .netinera-image-slider-pagination {
      @apply gap-3; /* 12px */
    }

    .netinera-image-slider-caption {
      @apply text-lg leading-[1.555em] px-6; /* 18px, 24px padding */
    }
  }

  /* Large desktop optimization */
  @media (width >= 1280px) { /* netinera-wide */
    .netinera-image-slider {
      @apply max-w-[900px] gap-7; /* 28px */
    }

    .netinera-image-slider-image {
      @apply h-[508px];
    }

    .netinera-image-slider-navigation {
      @apply px-10; /* 40px */
    }

    .netinera-image-slider-nav-button {
      @apply w-16 h-16; /* 64px */
    }

    .netinera-image-slider-caption {
      @apply text-[20px] leading-[1.6em];
    }
  }

  /* ==========================
   * === COLOR VARIANTS
   * ========================== */

  /* Primary Variant - all simple selectors first */
  .netinera-image-slider-primary .netinera-image-slider-dot {
    @apply bg-white/40;
  }

  .netinera-image-slider-primary .netinera-image-slider-dot.active {
    @apply bg-yellow-400; /* #FBBF24 is approx yellow-400 */
  }

  /* Dark Variant - simple selectors */
  .netinera-image-slider-dark .netinera-image-slider-dot {
    @apply bg-white/30;
  }

  .netinera-image-slider-dark .netinera-image-slider-dot.active {
    @apply bg-white;
  }

  /* Pattern Simple - simple selectors */
  .netinera-image-slider-pattern-simple .netinera-image-slider-content {
    @apply rounded-lg shadow-[0_2px_8px_rgb(30_41_57_/_8%)]; /* 8px radius */
  }

  /* Now all hover selectors come after simple selectors */
  .netinera-image-slider-primary .netinera-image-slider-dot:hover {
    @apply bg-white/60;
  }

  .netinera-image-slider-primary .netinera-image-slider-dot.active:hover {
    @apply bg-yellow-500; /* #F59E0B is approx yellow-500 */
  }

  .netinera-image-slider-dark .netinera-image-slider-dot:hover {
    @apply bg-white/50;
  }

  .netinera-image-slider-dark .netinera-image-slider-dot.active:hover {
    @apply bg-white/90;
  }

  /* Pattern Secondary hover */
  .netinera-image-slider-pattern-secondary:hover .netinera-image-slider-content {
    @apply border-[var(--color-netinera-secondary)] shadow-[0_8px_24px_rgb(221_5_43_/_15%)];
  }

  /* Pattern Simple hover */
  .netinera-image-slider-pattern-simple:hover .netinera-image-slider-content {
    @apply shadow-[0_4px_16px_rgb(30_41_57_/_12%)];
  }

  /* ==========================
   * === BORDER PATTERN VARIANTS
   * ========================== */

  /* Secondary Pattern - must come before hover selectors */
  .netinera-image-slider-pattern-secondary .netinera-image-slider-content {
    @apply border-2 border-stone-200 rounded-2xl; /* #E7E5E4 is stone-200, 16px */
  }

  /* ==========================
   * === GRID LAYOUT
   * ========================== */

  /* Image Slider Grid for multiple sliders */
  .netinera-image-slider-grid {
    @apply grid grid-cols-1 gap-8 w-full max-w-[1200px] mx-auto; /* 32px */
  }

  @media (width >= 768px) { /* netinera-tablet */
    .netinera-image-slider-grid {
      @apply grid-cols-2 gap-10; /* 40px */
    }
  }

  @media (width >= 1024px) { /* netinera-desktop */
    .netinera-image-slider-grid {
      @apply grid-cols-3 gap-12; /* 48px */
    }
  }

  /* ==========================
   * === ACCESSIBILITY
   * ========================== */

  /* Keyboard Navigation Support - This was already refactored for .netinera-image-slider[tabindex]:focus */

  /* Screen Reader Support */
  .netinera-image-slider[role="region"] {
    /* Ensures proper accessibility labeling - No specific CSS, HTML attribute based */
  }

  /* High Contrast Mode */
  @media (prefers-contrast: high) {
    .netinera-image-slider-content {
      @apply border-2 border-[var(--color-netinera-dark)];
    }

    .netinera-image-slider-nav-button {
      @apply bg-white border-2 border-[var(--color-netinera-dark)];
    }

    .netinera-image-slider-dot {
      @apply border-2 border-[var(--color-netinera-dark)];
    }

    .netinera-image-slider-dot.active {
      @apply bg-[var(--color-netinera-dark)] border-[var(--color-netinera-dark)];
    }

    .netinera-image-slider-caption {
      @apply font-semibold;
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .netinera-image-slider,
    .netinera-image-slider-content,
    .netinera-image-slider-image,
    .netinera-image-slider-nav-button,
    .netinera-image-slider-dot,
    .netinera-image-slider-nav-button-icon {
      @apply motion-reduce:transition-none motion-reduce:animate-none;
    }

    .netinera-image-slider:hover .netinera-image-slider-image {
      @apply motion-reduce:transform-none;
    }

    .netinera-image-slider-nav-button:hover,
    .netinera-image-slider-dot:hover {
      @apply motion-reduce:transform-none;
    }
  }

  /* ==========================
   * === PRINT STYLES
   * ========================== */

  @media print {
    .netinera-image-slider {
      @apply print:bg-white !important print:border print:border-gray-300 print:rounded-lg !important print:p-4 !important print:shadow-none !important print:max-w-full !important print:gap-3 !important;
      break-inside: avoid;
    }

    .netinera-image-slider-content {
      @apply print:rounded-sm !important print:shadow-none !important;
    }

    .netinera-image-slider-image {
      @apply print:h-[200px] !important print:transform-none !important;
    }

    .netinera-image-slider-navigation {
      @apply print:hidden !important; /* Hide navigation in print */
    }

    .netinera-image-slider-pagination {
      @apply print:hidden !important; /* Hide pagination in print */
    }

    .netinera-image-slider-caption {
      @apply print:text-black !important print:text-sm !important print:leading-[1.4] !important print:text-left !important print:p-2 print:pt-2 !important print:border-t print:border-gray-200 !important print:mt-2 !important;
    }

    .netinera-image-slider-dark,
    .netinera-image-slider-primary {
      @apply print:bg-white !important print:border print:border-gray-300 !important;
    }

    .netinera-image-slider-dark .netinera-image-slider-caption,
    .netinera-image-slider-primary .netinera-image-slider-caption {
      @apply print:text-black !important;
    }
  }

}
