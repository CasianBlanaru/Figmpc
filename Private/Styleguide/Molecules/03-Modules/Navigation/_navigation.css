@layer components {
  /* ==========================
   * === NAVIGATION RESPONSIVE
   * ========================== */

  /* Responsive Navigation Container */
  .navigation-responsive {
    @apply bg-white flex flex-row justify-stretch items-stretch self-stretch py-5 px-4 w-full relative transition-all duration-300 ease-in-out; /* p:20px 16px */
  }

  /* Responsive Navigation Logo */
  .navigation-responsive-logo {
    @apply flex flex-row gap-2.5 items-center flex-shrink-0; /* 10px -> gap-2.5 */
  }

  /* Responsive Navigation Menu */
  .navigation-responsive-menu {
    @apply hidden flex-row items-center gap-8 ml-auto; /* Default hidden on mobile, shown via media query. 32px -> gap-8 */
  }

  /* Responsive Navigation Link */
  .navigation-responsive-link {
    @apply font-[var(--font-family-sans)] font-normal text-base leading-7 text-[var(--color-netinera-dark)] no-underline py-2 px-4 rounded-lg transition-all duration-300 ease-in-out whitespace-nowrap; /* 16px, LH 1.75 (28px), p:8px 16px */
  }

  .navigation-responsive-link:hover {
    @apply bg-stone-100 text-[var(--color-netinera-primary)]; /* #F5F5F4 is stone-100. #00685E is primary */
  }

  .navigation-responsive-link.active {
    @apply bg-[var(--color-netinera-primary)] text-white;
  }

  /* Responsive Navigation CTA */
  .navigation-responsive-cta {
    @apply bg-[var(--color-netinera-secondary)] text-white font-[var(--font-family-sans)] font-semibold text-sm leading-[1.429em] tracking-[0.0571em] uppercase no-underline py-3 px-6 rounded-lg transition-all duration-300 ease-in-out border-none cursor-pointer whitespace-nowrap; /* 14px, p:12px 24px */
  }

  .navigation-responsive-cta:hover {
    @apply hover:bg-[#B91C1C] hover:-translate-y-px hover:shadow-[0_4px_12px_rgb(221_5_43_/_30%)]; /* #B91C1C is secondary-800 */
  }

  .navigation-responsive-cta:active {
    @apply active:translate-y-0;
  }

  /* Responsive Navigation Toggle */
  .navigation-responsive-toggle {
    @apply flex bg-none border-none cursor-pointer p-2 ml-auto items-center justify-center w-10 h-10 rounded-lg transition-all duration-300 ease-in-out; /* Shown on mobile by default (flex). Hidden on desktop via media query. */
  }

  .navigation-responsive-toggle:hover {
    @apply hover:bg-stone-100; /* #F5F5F4 */
  }

  .navigation-responsive-toggle svg {
    width: 24px; /* Direct style */
    height: 24px;
    color: var(--color-netinera-dark); /* #1E2939 */
    stroke: var(--color-netinera-dark);
  }

  /* Responsive Navigation Mobile Menu */
  .navigation-responsive-mobile-menu {
    @apply hidden flex-col items-start gap-6 absolute top-full left-0 right-0 bg-white py-6 px-4 shadow-[0_4px_12px_rgb(30_41_57_/_15%)] border-t border-gray-200 z-[1000]; /* #E5E7EB is gray-200. gap 24px -> gap-6, p:24px 16px -> py-6 px-4 */
  }

  .navigation-responsive-mobile-menu.active {
    @apply flex;
  }

  /* ==========================
   * === NAVIGATION XL (Desktop)
   * ========================== */

  /* Desktop XL Navigation Container */
  .navigation-xl {
    @apply bg-white flex flex-row justify-stretch items-stretch self-stretch py-5 px-14 w-full; /* p:20px 56px */
  }

  /* Desktop XL Navigation Logo */
  .navigation-xl-logo {
    @apply flex flex-row gap-2.5 items-center flex-shrink-0;
  }

  /* Desktop XL Navigation Menu */
  .navigation-xl-menu {
    @apply flex flex-row items-center gap-8 ml-auto; /* 32px -> gap-8 */
  }

  /* Desktop XL Navigation Link */
  .navigation-xl-link {
    @apply font-[var(--font-family-sans)] font-normal text-base leading-7 text-[var(--color-netinera-dark)] no-underline py-2 px-4 rounded-lg transition-all duration-300 ease-in-out whitespace-nowrap;
  }

  .navigation-xl-link:hover {
    @apply bg-stone-100 text-[var(--color-netinera-primary)];
  }

  .navigation-xl-link.active {
    @apply bg-[var(--color-netinera-primary)] text-white;
  }

  /* Desktop XL Navigation CTA */
  .navigation-xl-cta {
    @apply bg-[var(--color-netinera-secondary)] text-white font-[var(--font-family-sans)] font-semibold text-sm leading-[1.429em] tracking-[0.0571em] uppercase no-underline py-3 px-6 rounded-lg transition-all duration-300 ease-in-out border-none cursor-pointer whitespace-nowrap;
  }

  .navigation-xl-cta:hover {
    @apply hover:bg-[#B91C1C] hover:-translate-y-px hover:shadow-[0_4px_12px_rgb(221_5_43_/_30%)];
  }

  /* ==========================
   * === NAVIGATION SM (Mobile)
   * ========================== */

  /* Mobile SM Navigation Container */
  .navigation-sm {
    @apply bg-white flex flex-row justify-stretch items-stretch py-5 px-4 w-full max-w-[328px] relative;
  }

  /* Mobile SM Navigation Logo */
  .navigation-sm-logo {
    @apply flex flex-row gap-2.5 items-center flex-shrink-0;
  }

  /* Mobile SM Navigation Toggle */
  .navigation-sm-toggle {
    @apply flex bg-none border-none cursor-pointer p-2 ml-auto items-center justify-center w-10 h-10 rounded-lg transition-all duration-300 ease-in-out;
  }

  .navigation-sm-toggle:hover {
    @apply hover:bg-stone-100;
  }

  .navigation-sm-toggle svg {
    width: 24px; /* Direct style */
    height: 24px;
    color: var(--color-netinera-dark);
    stroke: var(--color-netinera-dark);
  }

  /* Mobile SM Navigation Mobile Menu */
  .navigation-sm-mobile-menu {
    @apply hidden flex-col items-start gap-6 absolute top-full left-0 right-0 bg-white py-6 px-4 shadow-[0_4px_12px_rgb(30_41_57_/_15%)] border-t border-gray-200 z-[1000];
  }

  .navigation-sm-mobile-menu.active {
    @apply flex;
  }

  /* Mobile SM Navigation Link */
  .navigation-sm-link {
    @apply font-[var(--font-family-sans)] font-normal text-base leading-7 text-[var(--color-netinera-dark)] no-underline py-2 px-4 rounded-lg transition-all duration-300 ease-in-out w-full;
  }

  .navigation-sm-link:hover {
    @apply bg-stone-100 text-[var(--color-netinera-primary)];
  }

  .navigation-sm-link.active {
    @apply bg-[var(--color-netinera-primary)] text-white;
  }

  /* Mobile SM Navigation CTA */
  .navigation-sm-cta {
    @apply bg-[var(--color-netinera-secondary)] text-white font-[var(--font-family-sans)] font-semibold text-sm leading-[1.429em] tracking-[0.0571em] uppercase no-underline py-3 px-6 rounded-lg transition-all duration-300 ease-in-out border-none cursor-pointer w-fit;
  }

  .navigation-sm-cta:hover {
    @apply hover:bg-[#B91C1C] hover:-translate-y-px hover:shadow-[0_4px_12px_rgb(221_5_43_/_30%)];
  }

  /* ==========================
   * === LOGO COMPONENTS
   * ========================== */

  /* Netinera Logo */
  .netinera-logo {
    @apply w-[200px] h-10 flex items-center justify-start; /* Desktop default. Responsive handled in media queries */
  }

  .netinera-logo svg {
    @apply w-full h-full;
  }

  /* Logo Color Variants */
  .netinera-logo .logo-primary {
    @apply fill-[var(--color-netinera-primary)];
  }

  .netinera-logo .logo-accent {
    @apply fill-[var(--color-netinera-secondary)];
  }

  .netinera-logo .logo-white {
    @apply fill-white;
  }

  /* ==========================
   * === COLOR VARIANTS
   * ========================== */

  /* Focus States - must come before all hover selectors */
  .navigation-responsive-link:focus,
  .navigation-xl-link:focus,
  .navigation-sm-link:focus,
  .navigation-responsive-cta:focus,
  .navigation-xl-cta:focus,
  .navigation-sm-cta:focus { /* Should be focus-visible */
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  .navigation-responsive-toggle:focus, /* Should be focus-visible */
  .navigation-sm-toggle:focus { /* Should be focus-visible */
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  /* Light Variant (Default) */
  .navigation-variant-light {
    @apply bg-white;
  }

  .navigation-variant-light .navigation-responsive-link,
  .navigation-variant-light .navigation-xl-link,
  .navigation-variant-light .navigation-sm-link {
    @apply text-[var(--color-netinera-dark)];
  }

  .navigation-variant-light .navigation-responsive-toggle svg,
  .navigation-variant-light .navigation-sm-toggle svg {
    color: var(--color-netinera-dark); /* Direct style for SVG */
    stroke: var(--color-netinera-dark);
  }

  /* Dark Variant */
  .navigation-variant-dark {
    @apply bg-[var(--color-netinera-dark)];
  }

  .navigation-variant-dark .navigation-responsive-link,
  .navigation-variant-dark .navigation-xl-link,
  .navigation-variant-dark .navigation-sm-link {
    @apply text-white;
  }

  .navigation-variant-dark .navigation-responsive-link.active,
  .navigation-variant-dark .navigation-xl-link.active,
  .navigation-variant-dark .navigation-sm-link.active {
    @apply bg-[var(--color-netinera-primary)] text-white;
  }

  .navigation-variant-dark .navigation-responsive-toggle svg,
  .navigation-variant-dark .navigation-sm-toggle svg {
    color: white; /* Direct style for SVG */
    stroke: white;
  }

  .navigation-variant-dark .navigation-responsive-toggle:hover,
  .navigation-variant-dark .navigation-sm-toggle:hover {
    @apply bg-white/10;
  }

  .navigation-variant-dark .navigation-responsive-mobile-menu,
  .navigation-variant-dark .navigation-sm-mobile-menu {
    @apply bg-[var(--color-netinera-dark)] border-t-white/20;
  }

  /* Primary Variant */
  .navigation-variant-primary {
    @apply bg-[var(--color-netinera-primary)];
  }

  .navigation-variant-primary .navigation-responsive-link,
  .navigation-variant-primary .navigation-xl-link,
  .navigation-variant-primary .navigation-sm-link {
    @apply text-white;
  }

  .navigation-variant-primary .navigation-responsive-link:hover,
  .navigation-variant-primary .navigation-xl-link:hover,
  .navigation-variant-primary .navigation-sm-link:hover {
    @apply bg-white/15 text-white;
  }

  .navigation-variant-primary .navigation-responsive-link.active,
  .navigation-variant-primary .navigation-xl-link.active,
  .navigation-variant-primary .navigation-sm-link.active {
    @apply bg-[var(--color-netinera-secondary)] text-white;
  }

  .navigation-variant-primary .navigation-responsive-toggle svg,
  .navigation-variant-primary .navigation-sm-toggle svg {
    color: white; /* Direct style for SVG */
    stroke: white;
  }

  .navigation-variant-primary .navigation-responsive-toggle:hover,
  .navigation-variant-primary .navigation-sm-toggle:hover {
    @apply bg-white/15;
  }

  .navigation-variant-primary .navigation-responsive-mobile-menu,
  .navigation-variant-primary .navigation-sm-mobile-menu {
    @apply bg-[var(--color-netinera-primary)] border-t-white/20;
  }

  /* Dark variant hover - must come after primary variant and focus states */
  .navigation-variant-dark .navigation-responsive-link:hover,
  .navigation-variant-dark .navigation-xl-link:hover,
  .navigation-variant-dark .navigation-sm-link:hover {
    @apply bg-white/10 text-white;
  }

  /* ==========================
   * === RESPONSIVE DESIGN
   * ========================== */

  /* Desktop breakpoint (≥ 992px) */
  @media (width >= 992px) { /* Using 992px as per original, maps roughly to lg or netinera-desktop */
    .navigation-responsive {
      @apply py-5 px-14; /* Desktop padding: 20px 56px */
    }

    .navigation-responsive-menu {
      @apply flex; /* Shown on desktop */
    }

    .navigation-responsive-toggle {
      @apply hidden; /* Hidden on desktop */
    }

    .navigation-responsive-mobile-menu {
      @apply hidden !important; /* Force hidden on desktop */
    }

    .netinera-logo { /* Desktop default size, already defined but can be reiterated here if needed */
      @apply w-[200px] h-10;
    }
  }

  /* Tablet adaptation */
  @media (width <= 991px) and (width >= 768px) { /* Between netinera-mobile and netinera-desktop */
    .navigation-responsive {
      @apply py-4 px-5; /* 16px 20px */
    }

    .netinera-logo {
      @apply w-40 h-8; /* 160px 32px */
    }

    .navigation-responsive-cta,
    .navigation-sm-cta { /* Apply to sm variant as well if it's used on tablet */
      @apply py-2.5 px-5 text-xs; /* 10px 20px, 12px font */
    }
  }

  /* Mobile optimization */
  @media (width <= 767px) { /* max-netinera-mobile */
    .navigation-responsive,
    .navigation-xl { /* XL also gets mobile overrides */
      @apply py-4 px-5; /* 16px 20px */
    }

    .netinera-logo {
      @apply w-[140px] h-7; /* 28px */
    }

    .navigation-responsive-cta,
    .navigation-xl-cta,
    .navigation-sm-cta {
      @apply py-2.5 px-5 text-xs; /* 10px 20px, 12px font */
    }
  }

  /* Small mobile optimization */
  @media (width <= 479px) { /* max-xs */
    .navigation-responsive,
    .navigation-xl,
    .navigation-sm {
      @apply py-3 px-4; /* 12px 16px */
    }

    .netinera-logo {
      @apply w-30 h-6; /* 120px 24px */
    }

    .navigation-responsive-toggle,
    .navigation-sm-toggle {
      @apply w-9 h-9; /* 36px */
    }

    .navigation-responsive-toggle svg,
    .navigation-sm-toggle svg {
      width: 20px; /* Direct style */
      height: 20px;
    }

    .navigation-responsive-cta,
    .navigation-xl-cta,
    .navigation-sm-cta {
      @apply py-2 px-4 text-[11px]; /* 8px 16px */
    }
  }

  /* ==========================
   * === ACCESSIBILITY
   * ========================== */

  /* High Contrast Mode */
  @media (prefers-contrast: high) {
    .navigation-responsive,
    .navigation-xl,
    .navigation-sm {
      @apply border border-[ButtonText]; /* Using system color ButtonText */
    }

    .navigation-responsive-link,
    .navigation-xl-link,
    .navigation-sm-link {
      @apply font-medium;
    }

    .navigation-responsive-cta,
    .navigation-xl-cta,
    .navigation-sm-cta {
      @apply border-2 border-[ButtonText];
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .navigation-responsive-link,
    .navigation-xl-link,
    .navigation-sm-link,
    .navigation-responsive-cta,
    .navigation-xl-cta,
    .navigation-sm-cta,
    .navigation-responsive-toggle,
    .navigation-sm-toggle {
      @apply motion-reduce:transition-none motion-reduce:transform-none !important;
    }
  }

  /* ==========================
   * === PRINT STYLES
   * ========================== */

  @media print {
    .navigation-responsive,
    .navigation-xl,
    .navigation-sm {
      @apply print:bg-white !important print:border-b print:border-gray-300 !important print:shadow-none !important print:py-2.5 print:px-0 !important;
    }

    .navigation-responsive-menu,
    .navigation-xl-menu {
      @apply print:flex !important print:gap-4 !important; /* 16px */
    }

    .navigation-responsive-toggle,
    .navigation-sm-toggle {
      @apply print:hidden !important;
    }

    .navigation-responsive-mobile-menu,
    .navigation-sm-mobile-menu {
      @apply print:hidden !important;
    }

    .navigation-responsive-link,
    .navigation-xl-link,
    .navigation-sm-link {
      @apply print:text-black !important print:py-1 print:px-2 !important;
    }

    .navigation-responsive-cta,
    .navigation-xl-cta,
    .navigation-sm-cta {
      @apply print:bg-black !important print:text-white !important print:shadow-none !important;
    }

    .netinera-logo {
      @apply print:w-30 !important print:h-6 !important; /* 120px 24px */
    }
  }

}
