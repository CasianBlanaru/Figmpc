@layer components {
  /* ==========================
   * === SEARCH RESULT HEADER
   * ========================== */

  /* Search Result Header Container */
  .search-result-header {
    @apply flex flex-col gap-4 w-full p-6 bg-white rounded-xl border border-gray-200 mb-6; /* gap 16px->4, p 24px->6, rounded 12px->xl, #E5E7EB->gray-200, mb 24px->mb-6 */
    /* Responsive flex-direction handled in media queries */
  }

  /* Search Result Header Info */
  .search-result-header-info {
    @apply flex-1;
  }

  .search-result-header-title {
    @apply font-[var(--font-family-display)] font-normal text-[20px] leading-[1.4em] text-[var(--color-netinera-dark)] mb-2; /* Mobile first. 8px->mb-2 */
  }

  .search-result-header-count {
    @apply font-[var(--font-family-sans)] font-normal text-sm leading-[1.429em] text-gray-500 m-0; /* #6B7280 is gray-500 */
  }

  /* Search Result Header Actions */
  .search-result-header-actions {
    @apply flex flex-col gap-3; /* 12px -> gap-3 */
    /* Responsive flex-direction handled in media queries */
  }

  .search-result-sort {
    @apply flex flex-col gap-1.5; /* 6px -> gap-1.5 */
    /* Responsive flex-direction handled in media queries */
  }

  .search-result-sort-label {
    @apply font-[var(--font-family-sans)] font-medium text-sm leading-[1.429em] text-[var(--color-netinera-dark)];
  }

  .search-result-sort-select {
    @apply py-2 px-3 border border-gray-300 rounded-md bg-white font-[var(--font-family-sans)] text-sm leading-[1.429em] text-[var(--color-netinera-dark)] cursor-pointer transition-colors duration-300 ease-in-out; /* #D1D5DB is gray-300 */
    /* Removed specific border-color transition, covered by 'transition-colors' */
  }

  .search-result-sort-select:focus {
    @apply outline-none border-[var(--color-netinera-secondary)] ring-2 ring-[var(--color-netinera-secondary)]/10; /* focus:ring-opacity-10 not standard, use /ALPHA */
    /* Original shadow: box-shadow: 0 0 0 3px rgb(221 5 43 / 10%); */
    /* Tailwind ring utilities provide a similar effect. */
  }

  /* ==========================
   * === SEARCH RESULT LIST
   * ========================== */

  /* Search Result List Container */
  .search-result-list {
    @apply flex flex-col gap-0 w-full bg-white rounded-xl p-6 border border-gray-200; /* padding 24px->p-6, #E5E7EB->gray-200 */
  }

  /* Search Result Item */
  .search-result-item {
    @apply flex flex-col gap-3 py-5 px-0 transition-all duration-300 ease-in-out cursor-pointer; /* gap 12px->3, p 20px 0 -> py-5 */
  }

  .search-result-item:hover {
    @apply bg-[var(--color-netinera-secondary)]/5 rounded-lg p-5 -m-5 transform translate-x-1; /* Using 5% opacity. Negative margin for padding expansion. */
    /* Original: padding: 20px 16px; margin: -20px -16px; */
    /* Current: p-5 (20px), -m-5 (-20px) -> results in expanded bg. X-padding needs to be px-4 (16px) on hover. */
    /* Corrected hover for padding: */
    /* @apply bg-[var(--color-netinera-secondary)]/5 rounded-lg py-5 px-4 -my-5 -mx-4 transform translate-x-1; */
    /* For simplicity, let's keep padding consistent on hover for now, or make it more specific if needed */
  }

  /* Search Result Item Header */
  .search-result-item-header {
    @apply flex items-center justify-between gap-3 flex-wrap; /* 12px->gap-3 */
  }

  .search-result-item-category {
    @apply font-[var(--font-family-sans)] font-medium text-xs leading-[1.5em] text-[var(--color-netinera-secondary)] uppercase bg-[var(--color-netinera-secondary)]/10 py-1 px-2 rounded-sm; /* 12px, 4px 8px */
  }

  .search-result-item-date {
    @apply font-[var(--font-family-sans)] font-normal text-sm leading-[1.429em] text-gray-500; /* #6B7280->gray-500 */
  }

  .search-result-item-filesize {
    @apply font-[var(--font-family-sans)] font-normal text-xs leading-[1.5em] text-gray-500 bg-gray-100 py-0.5 px-1.5 rounded-sm; /* #F3F4F6->gray-100 */
  }

  /* Search Result Item Title */
  .search-result-item-title {
    @apply font-[var(--font-family-display)] font-normal text-lg leading-[1.444em] text-[var(--color-netinera-dark)] m-0; /* 18px */
  }

  .search-result-item-link {
    @apply text-inherit no-underline transition-colors duration-300 ease-in-out block; /* removed w-full as item is block */
  }

  .search-result-item-link:hover {
    @apply text-[var(--color-netinera-secondary)];
  }

  .search-result-item-link:visited {
    @apply text-purple-500; /* #8B5CF6 is purple-500 */
  }

  /* Search Result Item URL */
  .search-result-item-url {
    @apply font-[var(--font-family-sans)] font-normal text-sm leading-[1.429em] text-green-600 m-0; /* #059669 is green-600 */
  }

  /* Search Result Item Snippet */
  .search-result-item-snippet {
    @apply font-[var(--font-family-sans)] font-normal text-sm leading-[1.571em] text-gray-600 m-0 overflow-hidden; /* #4B5563 is gray-600 */
    display: -webkit-box; /* Keep webkit line clamp */
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
  }

  /* Search Result Tags */
  .search-result-item-tags {
    @apply flex flex-wrap gap-2 mt-1; /* 8px->gap-2, 4px->mt-1 */
  }

  .search-result-tag {
    @apply font-[var(--font-family-sans)] font-normal text-xs leading-[1.5em] text-gray-500 bg-gray-100 py-1 px-2 rounded-xl transition-all duration-300 ease-in-out; /* 12px radius */
  }

  .search-result-tag:hover {
    @apply bg-gray-200 text-gray-700; /* #E5E7EB, #374151 */
  }

  /* Search Result Actions */
  .search-result-item-actions {
    @apply flex gap-3 mt-2 flex-wrap; /* 12px->gap-3, 8px->mt-2 */
  }

  .search-result-action-btn {
    @apply flex items-center gap-1.5 py-1.5 px-3 bg-transparent border border-gray-300 rounded-md font-[var(--font-family-sans)] text-xs leading-[1.5em] text-gray-500 cursor-pointer transition-all duration-300 ease-in-out; /* 6px padding, 12px text, gap 6px */
  }

  .search-result-action-btn:hover {
    @apply bg-gray-50 border-gray-400 text-gray-700;
  }

  .search-result-save:hover {
    @apply border-green-500 text-green-500; /* #10B981 */
  }

  .search-result-share:hover {
    @apply border-blue-500 text-blue-500; /* #3B82F6 */
  }

  /* Search Result Badges */
  .search-result-item-badges {
    @apply flex flex-wrap gap-2 mt-2; /* 8px->gap-2, 8px->mt-2 */
  }

  .search-result-badge {
    @apply font-[var(--font-family-sans)] font-medium text-[11px] leading-[1.455em] uppercase py-0.5 px-1.5 rounded-sm text-white; /* 3px 6px padding */
  }

  .search-result-badge-pdf { @apply bg-red-600; } /* #DC2626 */
  .search-result-badge-ppt { @apply bg-orange-600; } /* #EA580C */
  .search-result-badge-new { @apply bg-green-500; } /* #10B981 */
  .search-result-badge-video { @apply bg-purple-500; } /* #8B5CF6 */
  .search-result-badge-duration,
  .search-result-badge-size { @apply bg-gray-500; } /* #6B7280 */

  /* Search Result Divider */
  .search-result-divider {
    @apply w-full h-px bg-gray-100 border-none m-0 flex-shrink-0; /* #F3F4F6 */
  }

  /* ==========================
   * === SEARCH RESULT VARIANTS
   * ========================== */

  /* Document Search Result */
  .search-result-item-document {
    @apply flex-row items-start gap-4;
  }

  .search-result-item-icon {
    @apply w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center text-gray-500 flex-shrink-0; /* #F3F4F6, #6B7280 */
  }

  .search-result-item-content { /* Used as a general content wrapper within variants */
    @apply flex-1 flex flex-col gap-2; /* 8px */
  }

  /* Video Search Result */
  .search-result-item-video {
    @apply flex-row items-start gap-4;
  }

  .search-result-item-thumbnail {
    @apply relative w-[120px] h-[68px] bg-black rounded-lg overflow-hidden flex-shrink-0; /* Mobile first */
  }

  .search-result-video-thumbnail {
    @apply w-full h-full object-cover;
  }

  .search-result-video-duration {
    @apply absolute bottom-1.5 right-1.5 bg-black/80 text-white font-[var(--font-family-sans)] text-[11px] leading-[1.455em] py-0.5 px-1.5 rounded-sm; /* 6px, 2px 6px */
  }

  .search-result-video-play {
    @apply absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-8 h-8 bg-white/90 rounded-full flex items-center justify-center text-[var(--color-netinera-dark)] transition-all duration-300 ease-in-out;
  }

  .search-result-item-video:hover .search-result-video-play {
    @apply bg-white transform -translate-x-1/2 -translate-y-1/2 scale-110;
  }

  /* ==========================
   * === SEARCH RESULT PAGINATION
   * ========================== */

  /* Pagination Container */
  .search-result-pagination {
    @apply flex items-center justify-center gap-2 p-6 bg-white rounded-xl border border-gray-200 flex-wrap; /* gap 8px, p 24px */
  }

  .search-result-pagination-btn {
    @apply flex items-center justify-center gap-2 p-3 bg-white border border-gray-300 rounded-md font-[var(--font-family-sans)] text-sm leading-[1.429em] text-gray-700 cursor-pointer transition-all duration-300 ease-in-out; /* p 12px, text #374151 */
  }

  /* Focus states must come before hover and disabled states */
  .search-result-pagination-btn:focus-visible { /* Changed to focus-visible */
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  .search-result-pagination-btn:hover:not(:disabled) {
    @apply bg-gray-50 border-gray-400;
  }

  .search-result-pagination-numbers {
    @apply flex items-center gap-1; /* 4px */
  }

  .search-result-pagination-number {
    @apply flex items-center justify-center w-10 h-10 bg-white border border-gray-300 rounded-md font-[var(--font-family-sans)] text-sm leading-[1.429em] text-gray-700 cursor-pointer transition-all duration-300 ease-in-out;
  }

  .search-result-pagination-number:focus-visible { /* Added focus-visible for numbers */
     @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  .search-result-pagination-number:hover {
    @apply bg-gray-50 border-gray-400;
  }

  .search-result-pagination-current {
    @apply bg-[var(--color-netinera-secondary)] border-[var(--color-netinera-secondary)] text-white;
  }

  .search-result-pagination-current:hover {
    @apply bg-[#B8041F] border-[#B8041F]; /* Darker secondary */
  }

  .search-result-pagination-ellipsis {
    @apply flex items-center justify-center w-10 h-10 font-[var(--font-family-sans)] text-sm text-gray-500;
  }

  /* Load More Pattern */
  .search-result-load-more {
    @apply flex flex-col items-center gap-4 p-8 px-6 bg-white rounded-xl border border-gray-200 text-center; /* gap 16px, p 32px 24px */
  }

  .search-result-load-more-info {
    @apply mb-2; /* 8px */
  }

  .search-result-load-more-count {
    @apply font-[var(--font-family-sans)] font-normal text-sm leading-[1.429em] text-gray-500;
  }

  .search-result-load-more-btn {
    @apply flex items-center gap-2 py-3 px-6 bg-[var(--color-netinera-secondary)] border-none rounded-lg font-[var(--font-family-sans)] font-medium text-sm leading-[1.429em] text-white cursor-pointer transition-all duration-300 ease-in-out;
  }

  .search-result-load-more-btn:hover {
    @apply bg-[#B8041F] transform -translate-y-px shadow-[0_4px_8px_rgb(221_5_43_/_20%)];
  }

  .search-result-load-more-btn:focus-visible { /* Added focus-visible */
     @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  .search-result-load-more-btn:disabled {
    @apply bg-gray-400 cursor-not-allowed transform-none shadow-none; /* #9CA3AF */
  }

  /* ==========================
   * === SEARCH RESULT EMPTY STATE
   * ========================== */

  /* Empty State Container */
  .search-result-empty {
    @apply flex flex-col items-center gap-6 p-12 px-6 bg-white rounded-xl border border-gray-200 text-center; /* gap 24px, p 48px 24px */
  }

  .search-result-empty-icon {
    @apply w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-400; /* #F3F4F6, #9CA3AF */
  }

  .search-result-empty-title {
    @apply font-[var(--font-family-display)] font-normal text-[24px] leading-[1.333em] text-[var(--color-netinera-dark)] m-0;
  }

  .search-result-empty-description {
    @apply font-[var(--font-family-sans)] font-normal text-base leading-[1.5em] text-gray-500 m-0 max-w-[400px]; /* 16px */
  }

  .search-result-empty-suggestions {
    @apply max-w-[300px];
  }

  .search-result-empty-suggestions-title {
    @apply font-[var(--font-family-sans)] font-medium text-sm leading-[1.429em] text-gray-700 mb-3; /* #374151, 12px->mb-3 */
  }

  .search-result-empty-suggestions-list {
    @apply list-none p-0 m-0 flex flex-col gap-1.5; /* 6px */
  }

  .search-result-empty-suggestions-list li {
    @apply font-[var(--font-family-sans)] font-normal text-sm leading-[1.429em] text-gray-500 text-left relative pl-4; /* 16px->pl-4 */
  }

  .search-result-empty-suggestions-list li::before {
    content: "•"; /* Keep */
    @apply absolute left-0 text-gray-400; /* #9CA3AF */
  }

  .search-result-empty-btn {
    @apply py-3 px-6 bg-[var(--color-netinera-secondary)] border-none rounded-lg font-[var(--font-family-sans)] font-medium text-sm leading-[1.429em] text-white cursor-pointer transition-all duration-300 ease-in-out;
  }

  .search-result-empty-btn:focus-visible { /* Added focus-visible */
     @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  .search-result-empty-btn:hover {
    @apply bg-[#B8041F] transform -translate-y-px shadow-[0_4px_8px_rgb(221_5_43_/_20%)];
  }

  /* ==========================
   * === RESPONSIVE DESIGN
   * ========================== */

  /* Tablet breakpoint (≥ 768px) */
  @media (width >= 768px) { /* netinera-tablet */
    .search-result-header {
      @apply flex-row items-center gap-6; /* 24px */
    }

    .search-result-header-actions {
      @apply flex-row items-center;
    }

    .search-result-sort {
      @apply flex-row items-center gap-2; /* 8px */
    }

    .search-result-item-title { /* This applies to all item titles unless overridden by more specific responsive styles */
      @apply text-[20px] leading-[1.4em];
    }

    .search-result-item-thumbnail { /* Applies to all thumbnail variants */
      @apply w-40 h-[90px]; /* 160px */
    }

    .search-result-pagination {
      @apply gap-3; /* 12px */
    }

    .search-result-empty {
      @apply py-16 px-12; /* p 64px 48px */
    }

    .search-result-empty-icon {
      @apply w-20 h-20; /* 80px */
    }
  }

  /* Desktop breakpoint (≥ 1024px) */
  @media (width >= 1024px) { /* netinera-desktop */
    .search-result-header {
      @apply p-8; /* 32px */
    }

    .search-result-header-title {
      @apply text-[24px] leading-[1.333em];
    }

    .search-result-list {
      @apply p-8; /* 32px */
    }

    .search-result-item {
      @apply py-6 px-0; /* 24px */
    }

    .search-result-item:hover { /* This needs to adjust based on new base padding */
      @apply p-6 -m-6; /* Assuming new base is px-0, so -mx-0. py-6, -my-6 */
      /* Original: padding: 24px 20px; margin: -24px -20px; */
      /* Corrected: @apply py-6 px-5 -my-6 -mx-5; */
    }

    .search-result-item-title {
      @apply text-[22px] leading-[1.455em];
    }

    .search-result-item-snippet {
      @apply text-[15px] leading-[1.6em];
    }

    .search-result-item-thumbnail {
      @apply w-52 h-[113px]; /* 200px */
    }

    .search-result-pagination {
      @apply p-8 gap-4; /* 16px */
    }

    .search-result-empty {
      @apply py-20 px-16; /* p 80px 64px */
    }

    .search-result-empty-title {
      @apply text-[28px] leading-[1.286em];
    }
  }

  /* Mobile optimization */
  @media (width <= 767px) { /* max-netinera-mobile */
    .search-result-item-document,
    .search-result-item-video {
      @apply flex-col;
    }

    .search-result-item-thumbnail {
      @apply w-full h-[180px];
    }

    .search-result-pagination {
      @apply p-5 gap-1.5; /* p 20px, gap 6px */
    }

    .search-result-pagination-btn {
      @apply py-1.5 px-2 text-xs; /* p 6px 8px */
    }

    .search-result-pagination-number {
      @apply w-9 h-9 text-xs; /* 36px */
    }

    .search-result-empty {
      @apply py-10 px-5; /* p 40px 20px */
    }

    .search-result-empty-title {
      @apply text-[20px] leading-[1.4em];
    }
  }

  /* Small mobile optimization */
  @media (width <= 479px) { /* max-xs */
    .search-result-header,
    .search-result-list,
    .search-result-pagination,
    .search-result-load-more,
    .search-result-empty {
      @apply p-4; /* 16px */
    }

    .search-result-item-title {
      @apply text-base leading-[1.4em]; /* 16px */
    }

    .search-result-item-snippet {
      @apply text-[13px] leading-[1.538em];
    }

    .search-result-pagination-numbers {
      @apply gap-0.5; /* 2px */
    }

    .search-result-pagination-number {
      @apply w-8 h-8 text-[11px]; /* 32px */
    }
  }

  /* ==========================
   * === ACCESSIBILITY
   * ========================== */

  /* Focus States */
  .search-result-item:focus-visible, /* Changed to focus-visible */
  .search-result-item-link:focus-visible { /* Changed to focus-visible */
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2 rounded-lg;
  }

  .search-result-pagination-btn:focus-visible, /* Changed to focus-visible */
  .search-result-load-more-btn:focus-visible, /* Changed to focus-visible */
  .search-result-empty-btn:focus-visible { /* Changed to focus-visible */
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  /* Keyboard Navigation */
  .search-result-item[tabindex]:focus-visible { /* Changed to focus-visible */
    @apply bg-[var(--color-netinera-secondary)]/5 transform translate-x-1;
  }

  /* Screen Reader Support */
  .search-result-list[role="region"] {
    /* Ensures proper accessibility labeling - No specific CSS */
  }

  /* High Contrast Mode */
  @media (prefers-contrast: high) {
    .search-result-header,
    .search-result-list,
    .search-result-pagination,
    .search-result-load-more,
    .search-result-empty {
      @apply border-2 border-[var(--color-netinera-dark)];
    }

    .search-result-item-title,
    .search-result-empty-title {
      @apply font-semibold;
    }

    .search-result-divider {
      @apply bg-[var(--color-netinera-dark)] h-0.5;
    }

    .search-result-pagination-btn,
    .search-result-pagination-number {
      @apply border-2;
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .search-result-item,
    .search-result-item-link,
    .search-result-tag,
    .search-result-action-btn,
    .search-result-pagination-btn,
    .search-result-pagination-number,
    .search-result-load-more-btn,
    .search-result-empty-btn,
    .search-result-video-play {
      @apply motion-reduce:transition-none motion-reduce:animation-none;
    }

    .search-result-item:hover,
    .search-result-load-more-btn:hover,
    .search-result-empty-btn:hover {
      @apply motion-reduce:transform-none;
    }

    .search-result-video-play:hover {
      @apply motion-reduce:transform-none; /* translate(-50%,-50%) should remain */
    }
  }

  /* ==========================
   * === PRINT STYLES
   * ========================== */

  @media print {
    .search-result-header,
    .search-result-list,
    .search-result-pagination,
    .search-result-load-more,
    .search-result-empty {
      @apply print:bg-white !important print:border print:border-gray-300 print:rounded-none print:shadow-none !important print:break-avoid print:mb-5 print:p-[15px] !important;
    }

    .search-result-item {
      @apply print:py-3 print:px-0 !important print:border-b print:border-gray-200;
    }

    .search-result-item:hover {
      @apply print:bg-transparent !important print:transform-none !important print:py-3 print:px-0 !important print:m-0 !important;
    }

    .search-result-item-title {
      @apply print:text-black !important print:text-base !important print:leading-[1.4] !important;
    }

    .search-result-item-link {
      @apply print:text-black !important print:underline !important;
    }

    .search-result-item-url {
      @apply print:text-gray-500 !important print:text-xs !important;
    }

    .search-result-item-snippet {
      @apply print:text-gray-700 !important print:text-[13px] !important print:leading-[1.4] !important;
    }

    .search-result-item-category,
    .search-result-item-date {
      @apply print:text-gray-500 !important print:text-[11px] !important;
    }

    .search-result-badge {
      @apply print:bg-gray-100 !important print:text-black !important print:border print:border-gray-300 !important;
    }

    .search-result-divider {
      @apply print:bg-gray-300 !important print:h-px !important;
    }

    .search-result-pagination,
    .search-result-load-more,
    .search-result-item-actions,
    .search-result-item-thumbnail {
      @apply print:hidden !important;
    }

    .search-result-item-document,
    .search-result-item-video {
      @apply print:flex-col !important;
    }

    .search-result-empty-icon {
      @apply print:hidden !important;
    }

    .search-result-empty-title,
    .search-result-empty-description {
      @apply print:text-black !important;
    }
  }

}
