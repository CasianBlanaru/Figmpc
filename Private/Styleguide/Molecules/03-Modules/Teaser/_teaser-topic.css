@layer components {
  /* ==========================
   * === TEASER TOPIC RESPONSIVE
   * ========================== */

  /* Main Responsive Teaser Container */
  .teaser-topic-responsive {
    @apply flex flex-col bg-stone-100 overflow-hidden transition-all duration-300 ease-in-out;
    /* Mobile first: 328px - Figma Node 1829-6665 */
    @apply max-w-[328px] w-full rounded-tl-[32px] rounded-br-[32px] p-6 gap-5; /* p 24px, gap 20px */
  }

  .teaser-topic-responsive:hover {
    @apply transform -translate-y-0.5 shadow-[0_10px_25px_-5px_rgb(30_41_57_/_10%),_0_4px_10px_-2px_rgb(30_41_57_/_5%)];
  }

  /* Responsive Content Area */
  .teaser-topic-responsive-content {
    @apply order-2 text-center;
  }

  /* Responsive Title */
  .teaser-topic-responsive-title {
    @apply font-[var(--font-family-display)] font-normal uppercase text-[var(--color-netinera-dark)] m-0;
    /* Mobile: H5 SM 18px - Figma Node 1829-6665 */
    @apply text-lg leading-[1.444em]; /* 18px */
  }

  /* Responsive Illustration Area */
  .teaser-topic-responsive-illustration {
    @apply order-1 flex justify-center items-center bg-[#00BFAA] rounded-tl-[20px] rounded-br-[20px]; /* Custom teal, mobile radius */
    /* Mobile: icon area size */
    @apply h-[120px] w-full;
  }

  /* ==========================
   * === TEASER TOPIC SMALL (SM)
   * ========================== */

  /* Small Fixed Variant Container */
  .teaser-topic-sm {
    @apply flex flex-col bg-stone-100 overflow-hidden transition-all duration-300 ease-in-out;
    /* Desktop: 368px - Figma Node 1829-6661 */
    @apply w-[368px] rounded-tl-[36px] rounded-br-[36px] p-7 gap-6; /* p 28px, gap 24px */
  }

  .teaser-topic-sm:hover {
    @apply transform -translate-y-0.5 shadow-[0_10px_25px_-5px_rgb(30_41_57_/_10%),_0_4px_10px_-2px_rgb(30_41_57_/_5%)];
  }

  /* Small Content Area */
  .teaser-topic-sm-content {
    @apply order-2 text-center;
  }

  /* Small Title */
  .teaser-topic-sm-title {
    @apply font-[var(--font-family-display)] font-normal uppercase text-[var(--color-netinera-dark)] m-0;
    /* Desktop SM: H4 XL 24px - Figma Node 1829-6661 */
    @apply text-[24px] leading-[1.333em];
  }

  /* Small Illustration Area */
  .teaser-topic-sm-illustration {
    @apply order-1 flex justify-center items-center bg-[#00BFAA] rounded-tl-[24px] rounded-br-[24px]; /* Desktop illustration radius */
    /* Desktop SM: icon area size */
    @apply h-[140px] w-full;
  }

  /* ==========================
   * === TEASER TOPIC LARGE (LG)
   * ========================== */

  /* Large Fixed Variant Container */
  .teaser-topic-lg {
    @apply flex flex-col bg-stone-100 overflow-hidden transition-all duration-300 ease-in-out;
    /* Desktop: 468px - Figma Node 1829-6661 */
    @apply w-[468px] rounded-tl-[40px] rounded-br-[40px] p-8 gap-7; /* p 32px, gap 28px */
  }

  .teaser-topic-lg:hover {
    @apply transform -translate-y-0.5 shadow-[0_10px_25px_-5px_rgb(30_41_57_/_10%),_0_4px_10px_-2px_rgb(30_41_57_/_5%)];
  }

  /* Large Content Area */
  .teaser-topic-lg-content {
    @apply order-2 text-center;
  }

  /* Large Title */
  .teaser-topic-lg-title {
    @apply font-[var(--font-family-display)] font-normal uppercase text-[var(--color-netinera-dark)] m-0;
    /* Desktop LG: H3 XL 30px - Figma Node 1829-6661 */
    @apply text-[30px] leading-[1.2em];
  }

  /* Large Illustration Area */
  .teaser-topic-lg-illustration {
    @apply order-1 flex justify-center items-center bg-[#00BFAA] rounded-tl-[28px] rounded-br-[28px]; /* Large desktop illustration radius */
    /* Desktop LG: icon area size */
    @apply h-40 w-full; /* 160px */
  }

  /* ==========================
   * === ICON CONTAINER
   * ========================== */

  /* Icon Container */
  .teaser-topic-icon {
    @apply flex justify-center items-center w-12 h-12 transition-all duration-300 ease-in-out; /* 48px */
  }

  .teaser-topic-icon svg {
    width: 20px; /* Direct style */
    height: 20px;
  }

  /* Loading selectors - must come before hover selectors */
  .teaser-topic-loading .teaser-topic-icon {
    background: linear-gradient(90deg, #e0e0e0 25%, #d0d0d0 50%, #e0e0e0 75%); /* Keep custom gradient */
    @apply bg-cover motion-safe:animate-pulse rounded-full;
    /* animation: teaser-topic-loading 1.5s infinite; */ /* Can remove if pulse is OK */
  }

  /* Icon Hover Effect */
  .teaser-topic-responsive:hover .teaser-topic-icon,
  .teaser-topic-sm:hover .teaser-topic-icon,
  .teaser-topic-lg:hover .teaser-topic-icon {
    @apply transform scale-110;
  }

  /* ==========================
   * === GRID LAYOUT
   * ========================== */

  /* Responsive Grid Container */
  .teaser-topic-grid-responsive {
    @apply grid gap-6 w-full grid-cols-1; /* Mobile first gap 24px */
    /* Responsive columns handled in media queries */
  }

  /* ==========================
   * === COLOR VARIANTS
   * ========================== */

  /* Primary Variant (Default) */
  .teaser-topic-primary .teaser-topic-responsive-illustration,
  .teaser-topic-primary .teaser-topic-sm-illustration,
  .teaser-topic-primary .teaser-topic-lg-illustration {
    @apply bg-[#00BFAA]; /* Custom Teal */
  }

  /* Secondary Variant */
  .teaser-topic-secondary .teaser-topic-responsive-illustration,
  .teaser-topic-secondary .teaser-topic-sm-illustration,
  .teaser-topic-secondary .teaser-topic-lg-illustration {
    @apply bg-[var(--color-netinera-secondary)];
  }

  /* Dark Variant */
  .teaser-topic-dark .teaser-topic-responsive-illustration,
  .teaser-topic-dark .teaser-topic-sm-illustration,
  .teaser-topic-dark .teaser-topic-lg-illustration {
    @apply bg-[var(--color-netinera-dark)];
  }

  /* ==========================
   * === RESPONSIVE DESIGN
   * ========================== */

  /* Desktop breakpoint (1024px+) */
  @media (width >= 1024px) { /* netinera-desktop */
    .teaser-topic-responsive {
      @apply max-w-[368px] rounded-tl-[36px] rounded-br-[36px] p-7 gap-6; /* p 28px, gap 24px */
    }

    .teaser-topic-responsive-title {
      @apply text-[24px] leading-[1.333em];
    }

    .teaser-topic-responsive-illustration {
      @apply rounded-tl-[24px] rounded-br-[24px] h-[140px];
    }

    .teaser-topic-grid-responsive {
      @apply gap-8 grid-cols-2; /* 32px */
    }
  }

  /* Large Desktop (1200px+) */
  @media (width >= 1200px) { /* netinera-wide */
    .teaser-topic-grid-responsive {
      @apply grid-cols-[repeat(auto-fit,minmax(320px,1fr))];
    }
  }

  /* Tablet adaptation */
  @media (width <= 1023px) and (width >= 768px) { /* netinera-tablet range */
    .teaser-topic-responsive {
      @apply max-w-[350px] rounded-tl-[34px] rounded-br-[34px] p-[26px] gap-[22px];
    }

    .teaser-topic-responsive-title {
      @apply text-[20px] leading-[1.4em];
    }

    .teaser-topic-responsive-illustration {
      @apply rounded-tl-[22px] rounded-br-[22px] h-[130px];
    }

    .teaser-topic-sm { /* SM variant on tablet */
      @apply w-[320px] rounded-tl-[32px] rounded-br-[32px] p-6 gap-5;
    }

    .teaser-topic-sm-title {
      @apply text-[20px] leading-[1.4em];
    }

    .teaser-topic-sm-illustration {
      @apply rounded-tl-[20px] rounded-br-[20px] h-[120px];
    }

    .teaser-topic-lg { /* LG variant on tablet */
      @apply w-[400px] rounded-tl-[36px] rounded-br-[36px] p-7 gap-6;
    }

    .teaser-topic-lg-title {
      @apply text-[24px] leading-[1.33em];
    }

    .teaser-topic-lg-illustration {
      @apply rounded-tl-[24px] rounded-br-[24px] h-[140px];
    }

    .teaser-topic-grid-responsive {
      @apply grid-cols-2 gap-7; /* 28px */
    }
  }

  /* Mobile optimization */
  @media (width <= 767px) { /* max-netinera-mobile */
    .teaser-topic-responsive {
      @apply max-w-[300px] rounded-tl-[28px] rounded-br-[28px] p-5 gap-[18px];
    }

    .teaser-topic-responsive-title {
      @apply text-base leading-[1.38em]; /* 16px */
    }

    .teaser-topic-responsive-illustration {
      @apply rounded-tl-[18px] rounded-br-[18px] h-[100px];
    }

    .teaser-topic-sm,
    .teaser-topic-lg { /* SM and LG variants on mobile */
      @apply w-full max-w-[300px] rounded-tl-[28px] rounded-br-[28px] p-5 gap-[18px];
    }

    .teaser-topic-sm-title,
    .teaser-topic-lg-title {
      @apply text-base leading-[1.38em];
    }

    .teaser-topic-sm-illustration,
    .teaser-topic-lg-illustration {
      @apply rounded-tl-[18px] rounded-br-[18px] h-[100px];
    }

    .teaser-topic-icon {
      @apply w-10 h-10; /* 40px */
    }

    .teaser-topic-icon svg {
      width: 24px; /* Direct style */
      height: 24px;
    }

    .teaser-topic-grid-responsive {
      @apply gap-5; /* 20px */
    }
  }

  /* Small mobile optimization */
  @media (width <= 479px) { /* max-xs */
    .teaser-topic-responsive,
    .teaser-topic-sm,
    .teaser-topic-lg { /* All variants */
      @apply rounded-tl-[24px] rounded-br-[24px] p-4 gap-4; /* p 16px, gap 16px */
    }

    .teaser-topic-responsive-title,
    .teaser-topic-sm-title,
    .teaser-topic-lg-title {
      @apply text-sm leading-[1.3em]; /* 14px */
    }

    .teaser-topic-responsive-illustration,
    .teaser-topic-sm-illustration,
    .teaser-topic-lg-illustration {
      @apply rounded-tl-[16px] rounded-br-[16px] h-20; /* 80px */
    }

    .teaser-topic-icon {
      @apply w-8 h-8; /* 32px */
    }

    .teaser-topic-icon svg {
      width: 20px; /* Direct style */
      height: 20px;
    }

    .teaser-topic-grid-responsive {
      @apply gap-4; /* 16px */
    }
  }

  /* ==========================
   * === ACCESSIBILITY
   * ========================== */

  /* Focus States */
  .teaser-topic-responsive:focus-visible, /* Changed to focus-visible */
  .teaser-topic-sm:focus-visible,
  .teaser-topic-lg:focus-visible {
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
  }

  /* Keyboard Navigation */
  .teaser-topic-responsive:focus-within, /* Changed to focus-within for group focus */
  .teaser-topic-sm:focus-within,
  .teaser-topic-lg:focus-within {
    @apply outline-2 outline-[var(--color-netinera-secondary)] outline-offset-2;
    border-radius: inherit; /* Keep custom, or make specific */
  }

  /* Screen Reader Support */
  .teaser-topic-sr-only {
    @apply sr-only;
  }

  /* High Contrast Mode */
  @media (prefers-contrast: high) {
    .teaser-topic-responsive,
    .teaser-topic-sm,
    .teaser-topic-lg {
      @apply border-2 border-[currentcolor];
    }

    .teaser-topic-responsive-title,
    .teaser-topic-sm-title,
    .teaser-topic-lg-title {
      @apply font-semibold;
      text-shadow: 0 0 1px currentcolor; /* Keep custom */
    }

    .teaser-topic-responsive-illustration,
    .teaser-topic-sm-illustration,
    .teaser-topic-lg-illustration {
      @apply border-2 border-white;
    }

    .teaser-topic-icon svg {
      stroke-width: 2; /* Direct style */
    }
  }

  /* Reduced Motion */
  @media (prefers-reduced-motion: reduce) {
    .teaser-topic-responsive,
    .teaser-topic-sm,
    .teaser-topic-lg,
    .teaser-topic-icon {
      @apply motion-reduce:transition-none motion-reduce:animation-none;
    }

    .teaser-topic-responsive:hover,
    .teaser-topic-sm:hover,
    .teaser-topic-lg:hover,
    .teaser-topic-responsive:hover .teaser-topic-icon,
    .teaser-topic-sm:hover .teaser-topic-icon,
    .teaser-topic-lg:hover .teaser-topic-icon {
      @apply motion-reduce:transform-none;
    }
  }

  /* ==========================
   * === PRINT STYLES
   * ========================== */

  @media print {
    .teaser-topic-responsive,
    .teaser-topic-sm,
    .teaser-topic-lg {
      @apply print:border print:border-gray-300 print:rounded-none print:break-avoid print:mb-5 print:shadow-none !important print:bg-white !important print:max-w-none !important print:w-auto !important print:p-[15px] !important print:gap-2.5 !important;
    }

    .teaser-topic-responsive-illustration,
    .teaser-topic-sm-illustration,
    .teaser-topic-lg-illustration {
      @apply print:bg-gray-100 !important print:border print:border-gray-300 print:rounded-none print:h-[60px] !important;
    }

    .teaser-topic-responsive-title,
    .teaser-topic-sm-title,
    .teaser-topic-lg-title {
      @apply print:text-black !important print:text-sm !important print:leading-[1.3] !important;
    }

    .teaser-topic-icon {
      @apply print:w-6 !important print:h-6 !important;
    }

    .teaser-topic-icon svg {
      width: 20px !important; /* Direct style */
      height: 20px !important;
      stroke: black !important; /* Direct style */
    }

    .teaser-topic-grid-responsive {
      @apply print:block;
    }

    .teaser-topic-grid-responsive > * {
      @apply print:mb-[15px];
    }
  }

  /* ==========================
   * === LOADING STATES
   * ========================== */

  .teaser-topic-loading {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%); /* Keep custom */
    @apply bg-cover;
    animation: teaser-topic-loading 1.5s infinite; /* Keep custom */
  }

  @keyframes teaser-topic-loading { /* Keep custom */
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }

  .teaser-topic-loading .teaser-topic-responsive-illustration,
  .teaser-topic-loading .teaser-topic-sm-illustration,
  .teaser-topic-loading .teaser-topic-lg-illustration {
    background: linear-gradient(90deg, #e0e0e0 25%, #d0d0d0 50%, #e0e0e0 75%) !important; /* Keep custom */
    @apply bg-cover motion-safe:animate-pulse;
    /* animation: teaser-topic-loading 1.5s infinite; */ /* Can remove if pulse is OK */
  }

  .teaser-topic-loading .teaser-topic-responsive-title,
  .teaser-topic-loading .teaser-topic-sm-title,
  .teaser-topic-loading .teaser-topic-lg-title {
    background: linear-gradient(90deg, #e0e0e0 25%, #d0d0d0 50%, #e0e0e0 75%); /* Keep custom */
    @apply bg-cover text-transparent rounded h-[1.2em] block motion-safe:animate-pulse;
    /* animation: teaser-topic-loading 1.5s infinite; */ /* Keep if custom anim preferred */
  }

  .teaser-topic-loading .teaser-topic-icon svg {
    @apply opacity-0;
  }

}
